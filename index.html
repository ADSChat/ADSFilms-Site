<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ADS Films Streaming Platform</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Roboto', sans-serif;
            background-color: #0a0a0a;
            color: #fff;
            margin: 0;
            padding: 20px;
        }
        h1 {
            text-align: center;
            font-weight: 700;
            margin-bottom: 30px;
            color: #f0f0f0;
        }
         .film-year-container {
            position: relative;
             margin-bottom: 30px;
             padding-top: 10px;
         }
        .film-year {
             position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            padding: 5px 15px;
            color: white;
             font-weight: bold;
             font-size: 1.1rem;
            border-radius: 0 0 10px 10px;
            text-align: center;
        }
        .film-year-container.year-2025 .film-year { background-color: #e74c3c; }
        .film-year-container.year-2024 .film-year { background-color: #3498db; }
        .film-year-container.year-2023 .film-year { background-color: #2ecc71; }
        .film-year-container.year-2021 .film-year { background-color: #f39c12; }
        .film-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 25px;
             padding-top: 20px;
        }
        .film-card {
            background-color: #1a1a1a;
            border-radius: 12px;
            overflow: hidden;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            position: relative;
        }
         .latest-label {
            position: absolute;
            top: 10px;
            left: 10px;
            background-color: #e74c3c;
            color: white;
            padding: 5px 8px;
            border-radius: 4px;
            font-size: 0.8rem;
            font-weight: bold;
            z-index: 2;
        }
        .film-card.latest-film::before {
            content: '';
            position: absolute;
            top: -10px;
            left: -10px;
            right: -10px;
            bottom: -10px;
            border: 3px solid #e74c3c;
            border-radius: 14px;
            z-index: 1;
            pointer-events: none;
        }
        .film-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(255, 255, 255, 0.1);
        }
        .film-card img {
            width: 100%;
            height: 250px;
            object-fit: cover;
            display: block;
        }
        .film-info {
            padding: 15px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            min-height: 120px;
        }
        .film-title {
            font-weight: 500;
            margin-bottom: 15px;
            font-size: 1.1rem;
        }
        .btn {
            display: inline-block;
            padding: 10px 20px;
            margin: 5px 0;
            background-color: #3498db;
            color: #fff;
            text-decoration: none;
            border-radius: 6px;
            cursor: pointer;
            transition: background-color 0.3s ease;
            text-align: center;
            border: none;
            font-size: 0.9rem;
        }
        .btn:hover {
            background-color: #2980b9;
        }
        #loginModal, #videoModal {
             display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.8);
            overflow: auto;
        }
         .modal-content {
            background-color: #1a1a1a;
            margin: 10% auto;
            padding: 30px;
            border-radius: 12px;
            width: 90%;
            max-width: 450px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.4);
        }
        input {
            width: 100%;
            padding: 12px;
            margin: 10px 0;
            box-sizing: border-box;
            background-color: #333;
            border: none;
            color: #fff;
            border-radius: 6px;
            outline: none;
        }
        #videoModal video{
            max-width: 90%;
            max-height: 90%;
            margin: 5% auto;
            display: block;
            background-color: #000;
        }
        #videoModal {
            display: flex;
            justify-content: center;
            align-items: center;
        }
       #devReleases {
         margin-top: 15px;
           text-align: center;
        }
        #devReleases h3 {
            color: #bbb;
            margin-bottom: 5px;
            font-weight: bold;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            user-select: none;
        }
        #devReleases h3::after {
            content: 'â–¼';
            margin-left: 5px;
            transition: transform 0.3s ease;
            display: inline-block;
        }
        #devReleases h3.open::after{
            transform: rotate(180deg);
        }
        #devReleases ul {
            list-style: none;
            padding: 0;
            overflow: hidden;
            max-height: 0;
            transition: max-height 0.3s ease;
        }
        #devReleases ul.open {
            max-height: 500px;
        }
        #devReleases li {
            margin-bottom: 8px;
        }
        #devReleases a {
            color: #3498db;
            text-decoration: none;
            transition: color 0.3s ease;
        }
        #devReleases a:hover {
            color: #2980b9;
        }
    </style>
</head>
<body>
    <h1>ADS Films Streaming Platform</h1>

    <div id="filmGridContainer">
        <!-- Films will be generated in here -->
    </div>


    <div id="loginModal">
        <div class="modal-content">
            <h2>Login Required</h2>
            <input type="text" id="username" placeholder="Username">
            <input type="password" id="password" placeholder="Password">
            <button class="btn" onclick="login()">Login</button>
        </div>
    </div>

    <div id="videoModal">
        <video controls id="customVideoPlayer">
            Your browser does not support the video tag.
        </video>
    </div>

    <script>
        const films = [
              {
                 title: "The Body in the Night",
                image: "video-capture-1019.40seg-6394.png",
                trailer: "trailers/body_in_night_trailer.mp4",
                fullMovie: "blob:https://fraigo.github.io/72a7aa8d-f155-4695-aa9e-1c55ce8e2586",
                year: 2025,
                devReleases: [
                        { name: "Release 1", url: "https://example.com/dev1.zip" },
                        { name: "Release 2", url: "https://example.com/dev2.zip" },
                        { name: "Release 3", url: "https://example.com/dev3.zip" },
                        { name: "Release 4", url: "https://example.com/dev4.zip" },
                        { name: "Release 5", url: "https://example.com/dev5.zip" },
                        { name: "Release 6", url: "https://example.com/dev6.zip" },
                        { name: "Release 7", url: "https://example.com/dev7.zip" },
                        { name: "Release 8", url: "https://example.com/dev8.zip" },
                         { name: "Release 9", url: "https://example.com/dev9.zip" },
                 ]
              },
              { title: "Goats in the outback", image: "video-capture-79.11seg-8714.png", trailer: "trailers/goats_outback_trailer.mp4", fullMovie: "movies/goats_outback.mp4", year: 2024 },
            { title: "Detectives at a Dead End", image: "video-capture-362.32seg-6905.png", trailer: "trailers/detectives_dead_end_trailer.mp4", fullMovie: "movies/detectives_dead_end.mp4", year: 2024 },
              { title: "On our own", image: "video-capture-544.63seg-2710.png", trailer: "trailers/on_our_own_trailer.mp4", fullMovie: "movies/on_our_own.mp4", year: 2023 },
            { title: "The Issue With Crime", image: "video-capture-85.83seg-6017.png", trailer: "movies/The%20issue%20with%20crime%20trailer.mp4", fullMovie: "movies/issue_with_crime.mp4", year: 2023 },
            { title: "Death on the Fjord", image: "video-capture-551.73seg-6341.png", trailer: "trailers/issue_with_crime_trailer.mp4", fullMovie: "movies/doft.mp4", year: 2021}
        ];

         function displayFilms() {
            const filmGridContainer = document.getElementById('filmGridContainer');
            const filmGrid = document.createElement('div');
            filmGrid.className = 'film-grid';
            filmGridContainer.appendChild(filmGrid);
            films.sort((a,b) => b.year - a.year);

            let currentYear = null;
            films.forEach(film => {
                if(film.year !== currentYear) {
                    currentYear = film.year;
                      const yearContainer = document.createElement('div');
                      yearContainer.className = `film-year-container year-${currentYear}`;
                        yearContainer.innerHTML = `<div class="film-year">${currentYear}</div>`;
                    filmGridContainer.appendChild(yearContainer);
                 }

                    const filmCard = document.createElement('div');
                    filmCard.className = 'film-card';

                     if(film.title === "The Body in the Night"){
                            filmCard.classList.add("latest-film");
                            filmCard.innerHTML = `
                             <span class="latest-label">Latest</span>
                                <img src="${film.image}" alt="${film.title}">
                                <div class="film-info">
                                    <div class="film-title">${film.title}</div>
                                    <a href="#" class="btn" onclick="watchNow('${film.fullMovie}')">Watch Now</a>
                                    <a href="#" class="btn" onclick="playTrailer('${film.trailer}')">Play Trailer</a>
                                     <div id="devReleases">
                                        <h3 onclick="toggleReleases(this)">Development Releases</h3>
                                        <ul>
                                            ${film.devReleases.map(release => `<li><a href="${release.url}">${release.name}</a></li>`).join('')}
                                        </ul>
                                    </div>
                                </div>
                            `;
                     }
                    else {
                    filmCard.innerHTML = `
                        <img src="${film.image}" alt="${film.title}">
                        <div class="film-info">
                            <div class="film-title">${film.title}</div>
                            <a href="#" class="btn" onclick="watchNow('${film.fullMovie}')">Watch Now</a>
                            <a href="#" class="btn" onclick="playTrailer('${film.trailer}')">Play Trailer</a>
                        </div>
                    `;
                    }
                 filmGrid.appendChild(filmCard);
                });
             }

        function toggleReleases(element) {
             const ul = element.nextElementSibling;
             element.classList.toggle("open");
             ul.classList.toggle('open');
          }

        function watchNow(movieSrc) {
            document.getElementById('loginModal').style.display = 'block';
            sessionStorage.setItem('currentMovie', movieSrc);
        }

        function playTrailer(trailerSrc) {
            const videoPlayer = document.getElementById('customVideoPlayer');
            videoPlayer.src = trailerSrc;
            document.getElementById('videoModal').style.display = 'flex';
        }

        function login() {
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;

            if ((username === 'QuizzityMC' && password === 'ADS2024t1') ||
                (username === 'user' && password === 'test')) {
                document.getElementById('loginModal').style.display = 'none';
                const movieSrc = sessionStorage.getItem('currentMovie');
                if (movieSrc) {
                    const videoPlayer = document.getElementById('customVideoPlayer');
                    videoPlayer.src = movieSrc;
                    document.getElementById('videoModal').style.display = 'flex';
                    sessionStorage.removeItem('currentMovie');
                }
            } else {
                alert('Invalid credentials. Access denied.');
            }
        }

        window.onclick = function(event) {
            if (event.target == document.getElementById('loginModal')) {
                document.getElementById('loginModal').style.display = 'none';
            }
            if (event.target == document.getElementById('videoModal')) {
                document.getElementById('videoModal').style.display = 'none';
                document.getElementById('customVideoPlayer').pause();
            }
        }

        displayFilms();
    </script>
</body>
</html>
